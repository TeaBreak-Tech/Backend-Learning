# TeaBreak åç«¯çŸ¥è¯†åº“
## Week 1 å®ç”¨å·¥å…·åŠæŠ€å·§

Gitå’ŒMarkdownæ˜¯å¿…é¡»å­¦ä¹ çš„å†…å®¹

* Google
    * å­¦ä¼šå¦‚ä½•ç”¨è‹±è¯­æè¿°é—®é¢˜å¹¶åœ¨Googleä¸Šæ‰¾åˆ°ç­”æ¡ˆ
        * 95%çš„é—®é¢˜éƒ½å¯ä»¥è§£å†³
        * ç¨‹åºå‘˜æœ€åº”è¯¥æŒæ¡çš„è¯­è¨€æ˜¯è‹±è¯­
        * ï¼ˆä¸æƒ³çœ‹è‹±æ–‡è¿˜æœ‰Googleç¿»è¯‘ï¼‰
    * Stack Overflowè€Œä¸æ˜¯CSDN
        * è™½ç„¶CSDNä¸Šä¹Ÿæœ‰ä¸å°‘ä¼˜è´¨å†…å®¹ï¼Œä½†æ˜¯å¤§éƒ¨åˆ†éƒ½æ˜¯ä»è‹±æ–‡ç½‘ç«™ç¿»è¯‘è¿‡æ¥æˆ–è€…æŠ„è¢­åˆ«çš„æ–‡ç« 
        * ä¸ªäººè®¤ä¸ºåœ¨ä¸­æ–‡è®ºå›é‡Œé¢ï¼ŒçŸ¥ä¹ï¼Œç®€ä¹¦ï¼ŒSegment Faultä¸é”™
* Git
    * Overview
    * Basic commands
        * add
        * commit
        * pull
        * push
    * gitignore
        * [https://www.cnblogs.com/kevingrace/p/5690241.html](https://www.cnblogs.com/kevingrace/p/5690241.html)
    * GitHub
        * Pull Request
        * Issue
        * git clone
        * __åŠ å…¥TeaBreak Team__
            * åœ¨Teamä¸‹åˆ›å»ºä¸€ä¸ªå­˜æ”¾å­¦ä¹ ç¬”è®°çš„ä»“åº“
                * æ–°å»ºä»“åº“å`git clone`åˆ°æœ¬åœ°
                * å°†æœ¬åœ°gitä»“åº“æ¨é€åˆ°GitHubä¸Š
                    * `git remote add origin`
                    * `git remote -v`
        * Optional:
            * SSH keys [https://github.com/settings/keys](https://github.com/settings/keys)
            * Explore great repositories
            * Plugin æµè§ˆå™¨æ‰©å±•
              * Sourcegraph https://about.sourcegraph.com/
    * Gitå›¾å½¢åŒ–ç•Œé¢
        * VsCode
        * git gui
    * [TeaBreak Gitä½¿ç”¨è§„èŒƒ](https://github.com/TeaBreak-Tech/Backend-Learning/blob/master/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B.md#git%E4%BD%BF%E7%94%A8)
    * å‚è€ƒ
        * [https://missing.csail.mit.edu/2020/version-control/](https://missing.csail.mit.edu/2020/version-control/)
        * [https://learngitbranching.js.org/?locale=zh_CN](https://learngitbranching.js.org/?locale=zh_CN)ä¸€ä¸ªäº¤äº’å¼çš„gitæ•™ç¨‹
* é€‰IDE
    * VsCode
    * Pycharm
    * etc.
* æŒæ¡Markdownè¯­æ³•
    * æœ¬æ–‡æ¡£å°±æ˜¯ç”¨Markdownå†™çš„
    * åˆç®€å•åˆç¾è§‚
    * __ç”¨Markdownå†™å­¦ä¹ ç¬”è®°__
        * å·å·æ¨èä¸€ä¸‹è‡ªå·±çš„Blog: https://jasonblog.xyz/2020/01/12/2020/1-6/#toc-heading-1
        * [è¿™ç¯‡ç¬”è®°å¯¹åº”çš„Markdownæ–‡ä»¶](1-6.md)ä¹Ÿæ”¾åœ¨ä»“åº“ä¸‹äº†
        * å†™æ³•ä»…ä¾›å‚è€ƒï¼Œçˆ±å’‹å†™å’‹å†™ğŸ˜„
    * Optional:
        * Typora
        * Markdownè½¬æ¢æˆpdf
        * Latexæ•°å­¦å…¬å¼
            * å¯ä»¥ç”¨æ¥å†™æ•°å­¦ä½œä¸š
* è€ƒè™‘å­¦ä¹ Vim
    * Vimæ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„æ–‡æœ¬ç¼–è¾‘å™¨
    * ä½†æ˜¯å­¦ä¹ æ›²çº¿ä¸å‹å¥½
    * åœ¨å¤§éƒ¨åˆ†IDEä¸­éƒ½å¯ä»¥ç”¨Vimæ’ä»¶
    * å‘½ä»¤è¡Œç¯å¢ƒä¸‹Vimå¾ˆå¥½ç”¨
    * ç”šè‡³åœ¨Chromeä¸­ä¹Ÿå¯ä»¥ç”¨Vim: Vimiumå®ç°æ— é¼ æ ‡ä¸Šç½‘
        * [https://www.zhihu.com/question/23483616](https://www.zhihu.com/question/23483616)
        * [https://chrome.google.com/webstore/detail/vimium/dbepggeogbaibhgnhhndojpepiihcmeb](https://chrome.google.com/webstore/detail/vimium/dbepggeogbaibhgnhhndojpepiihcmeb)
    * å‚è€ƒ
        * [https://coolshell.cn/articles/5426.html](https://coolshell.cn/articles/5426.html)
        * [https://missing.csail.mit.edu/2020/editors/](https://missing.csail.mit.edu/2020/editors/)
### Tasks

- åœ¨GitHubä¸ŠåŠ å…¥TeaBreak Teamå¹¶åˆ›å»ºä½ çš„å­¦ä¹ ç¬”è®°ä»“åº“
- ç”¨Markdownå®Œæˆä½ çš„ç¬¬ä¸€ç¯‡å­¦ä¹ ç¬”è®°

## Week 2 Pythonè¯­æ³• & Djangoå…¥é—¨

### Pythonè¯­æ³•

å®˜æ–¹æ–‡æ¡£ï¼šhttps://docs.python.org/3/

å»–é›ªå³°çš„pythonæ•™ç¨‹ï¼šhttps://www.liaoxuefeng.com/wiki/1016959663602400

- æ•°æ®ç±»å‹
- æµç¨‹æ§åˆ¶
  - æ¡ä»¶åˆ¤æ–­
  - å¾ªç¯
- å‡½æ•°
- æ•°æ®ç»“æ„
  - åˆ—è¡¨
  - å­—å…¸
- å¼‚å¸¸å¤„ç†
- æ¨¡å—å’ŒåŒ…
  - ä»¥ä¸‹ä¸‰ç§`import`çš„åŒºåˆ«ï¼š
    - `import json`
    - `from json import *`
    - `from json import load`
- ç±»
  - ç±»æˆå‘˜
  - ç±»æ–¹æ³•
- è£…é¥°å™¨ï¼ˆé€‰å­¦ï¼‰

### Djangoå…¥é—¨

å®˜æ–¹æ–‡æ¡£ï¼šhttps://docs.djangoproject.com/zh-hans/3.0/

åœ¨å®è·µä¸­å­¦ä¹ Djangoä¼šæ¯”è¾ƒå¿«ï¼Œå“ªé‡Œä¸ä¼šæŸ¥å“ªé‡Œï¼Œé¦–å…ˆåœ¨å®˜æ–¹æ–‡æ¡£é‡Œæ‰¾ï¼Œå…¶æ¬¡ç”¨Googleæœç´¢ã€‚

1. æ¨èå¤§å®¶å…ˆè·Ÿç€å®˜æ–¹æ•™ç¨‹åšä¸€ä¸ªç®€å•çš„åº”ç”¨ï¼šhttps://docs.djangoproject.com/zh-hans/3.0/intro/tutorial01/
2. åœ¨æˆ‘ä»¬å›¢é˜Ÿä¸­ï¼ŒDjangoä»…ä½œä¸ºåç«¯ä½¿ç”¨ï¼Œä¸”åœ¨DjangoåŸºç¡€ä¸Šä½¿ç”¨äº†DRF (Django REST Framework)è¿™ä¸ªåç«¯ä¸“ç”¨æ¡†æ¶ã€‚DRFçš„å†™æ³•ä¸DjangoåŸç”Ÿçš„å†™æ³•å·®åˆ«æŒºå¤§çš„ï¼Œä½†æ˜¯è¿™ä¸¤ç§å†™æ³•æ˜¯å¯ä»¥åŒæ—¶å­˜åœ¨çš„ï¼Œå»ºè®®å¤§å®¶å…ˆç†Ÿæ‚‰DjangoåŸç”Ÿçš„å†™æ³•ï¼Œå†å¼„æ‡‚DRFå¸®æˆ‘ä»¬èŠ‚çœäº†å“ªäº›éƒ¨åˆ†çš„ä»£ç å·¥ä½œ
3. æ¨èå¤§å®¶é˜…è¯»[è¿æ–°å¢™](https://github.com/TeaBreak-Tech/ciwkbe)å’Œ[è¯¾ç¨‹äºŒç»´ç ](https://github.com/TeaBreak-Tech/qrcode_be)çš„ä»£ç æ¥ç†Ÿæ‚‰Djangoçš„ä½¿ç”¨ï¼š
   1. `models`, `views`, `urls` ä¸‰éƒ¨åˆ†å„è‡ªçš„ä½œç”¨åŠè”ç³»
   2. å„ä¸ª`.py`æ–‡ä»¶çš„ä½œç”¨
   3. `settings.py` åŠ `local_settings.py` ä¸­çš„é…ç½®
   4. Adminåå°ç®¡ç†æ¨¡å—ï¼š[è¿æ–°å¢™](https://github.com/TeaBreak-Tech/ciwkbe/blob/master/qa/admin.py)
   5. æ•°æ®åº“å¢åˆ æŸ¥æ”¹ `QuerySet`
   6. Django ä¸­ä½¿ç”¨ MySQL æ•°æ®åº“:
      - åœ¨æœ¬åœ°å®‰è£… MySQL
      - å®‰è£… MySQL Workbench
      - åœ¨ Django é¡¹ç›®çš„ `models.py` ä¸­å®šä¹‰æ•°æ®åº“è¡¨
       - æ•°æ®åº“è¡¨ç»“æ„çš„è®¾è®¡æ˜¯ä¸€å¤§å­¦é—®ï¼Œç°é˜¶æ®µåªéœ€è¦ä¿è¯ä¿¡æ¯å®Œæ•´å³å¯
       - å¯å‚è€ƒ[è¿æ–°å¢™çš„æ•°æ®åº“è®¾è®¡](https://github.com/TeaBreak-Tech/ciwkbe/blob/master/qa/models.py)
         - ä¸»é”® `primary_key` æ˜¯æ¯ä¸€è¡Œæ•°æ®çš„å”¯ä¸€æ ‡è¯†
         - å¤–é”® `foreign_key` è¿æ¥ä¸¤ä¸ªè¡¨ï¼ˆç°é˜¶æ®µä¸ç”¨è€ƒè™‘ï¼Œæ´»åŠ¨æ—¥å†å»ºä¸€ä¸ªè¡¨å³å¯ï¼‰
         - [Django ORM å¸¸ç”¨å­—æ®µç±»å‹](https://docs.djangoproject.com/en/3.1/ref/models/fields/#field-types)
           - `AutoField` è‡ªå¢ä¸»é”®
           - `CharField` å®šé•¿å­—ç¬¦ä¸²
           - `DateTimeField` æ—¥æœŸæ—¶é—´
           - `PositiveIntegerField` éè´Ÿæ•´æ•°
           - `TextField` é•¿å­—ç¬¦ä¸²
      - åœ¨ Django é¡¹ç›®çš„ `settings.py` ä¸­å®šä¹‰æ•°æ®åº“è¿æ¥ï¼š
       - ```
           DATABASES = {
               'default': {
                   'ENGINE': 'django.db.backends.mysql',
                   'OPTIONS': {
                       "host": "127.0.0.1",                    # æœ¬åœ°çš„MySQL
                       "port": 3306,
                       "database": "database_name",            # æ”¹æˆä½ çš„æ•°æ®åº“åå­—
                       "user": "your_database_username",       # ç”¨æˆ·å
                       "password": "your_database_password",   # å¯†ç 
                   },
               }
           }
           ```
      - `python manage.py make migrations xxxï¼ˆé¡¹ç›®åå­—ï¼‰` åˆ›å»ºæ•°æ®åº“è¿ç§»æ–‡ä»¶
      - `python manage.py migrate` æ•°æ®åº“è¿ç§»
      - æ•°æ®åº“å¢åˆ æŸ¥æ”¹çš„æ“ä½œï¼Œè¯·å‚è€ƒ[QuerySet API](https://docs.djangoproject.com/zh-hans/3.1/ref/models/querysets/#queryset-api)åŠ[é—®ç­”å¢™çš„API](https://github.com/TeaBreak-Tech/ciwkbe/tree/master/qa/views)
4. æ¨èå¤§å®¶é˜…è¯»[æŸ æª¬èŒ¶æ—¥å†](https://github.com/TeaBreak-Tech/EventCalendar-BackendAPI)å’Œ[ç”¨æˆ·ç³»ç»Ÿ](https://github.com/TeaBreak-Tech/UserSystem)çš„åç«¯ä»£ç æ¥ç†Ÿæ‚‰DRFçš„ä½¿ç”¨ï¼š
   1. é˜…è¯»åç«¯README
   2. httpè¿”å›çŠ¶æ€ç åŠä¿¡æ¯ï¼š
      1. `Response(msg="not found",status=status.HTTP_404_NOT_FOUND)` æ˜¾å¼å®šä¹‰çŠ¶æ€ç 
   3. è£…é¥°å™¨
      1. åŸç†ï¼šhttps://segmentfault.com/a/1190000004461404
      2. åº”ç”¨ï¼š
         1. `@api_view(["POST"])` æŒ‡å®šæŸä¸ªæ¥å£çš„httpæ–¹æ³•
         2. `@permission_classes([])` DRFä¸­çš„æƒé™ç®¡ç†
         3. `@authentication_classes([CustomUserTokenAuth])` DRFä¸­çš„ç”¨æˆ·è®¤è¯
   4. æ¬¢è¿å¤§å®¶æ¥å®Œå–„åŸæœ‰çš„åç«¯ä»£ç ï¼šåœ¨ä¼ä¸šå¾®ä¿¡é‡Œæå‡ºå»ºè®® -> æ–°å»ºåˆ†æ”¯ -> åœ¨æ–°åˆ†æ”¯ä¸Šå˜æ›´ -> Pull Request æˆ– ç›´æ¥åˆå¹¶åˆ°master

### Tasks

- è·Ÿç€æ•™ç¨‹åšä¸€ä¸ªç®€å•çš„Djangoåº”ç”¨ï¼šhttps://docs.djangoproject.com/zh-hans/3.0/intro/tutorial01/
- æ¢ç´¢åç«¯ä»£ç ï¼š
  - [æŸ æª¬èŒ¶æ—¥å†](https://github.com/TeaBreak-Tech/EventCalendar-BackendAPI) åŸºæœ¬å…¨æ˜¯DRFçš„å†™æ³•
  - [ç”¨æˆ·ç³»ç»Ÿ](https://github.com/TeaBreak-Tech/UserSystem) éƒ¨åˆ†æ˜¯DRFçš„å†™æ³•
  - [è¿æ–°å¢™](https://github.com/TeaBreak-Tech/ciwkbe) å…¨éƒ¨æ˜¯DjangoåŸç”Ÿçš„å†™æ³•
  - [è¯¾ç¨‹äºŒç»´ç ](https://github.com/TeaBreak-Tech/qrcode_be) å…¨éƒ¨æ˜¯DjangoåŸç”Ÿçš„å†™æ³•

## Week 3 å¦‚ä½•åœ¨æœåŠ¡å™¨ä¸Šéƒ¨ç½²ä»£ç 
> è¯¦è§åç«¯å¼€å‘æµç¨‹ï¼šhttps://github.com/TeaBreak-Tech/Backend-Learning/blob/master/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B.md
* SSH
    * åŸç†
    * [å¦‚ä½•å®ç°å…å¯†ç™»å½•æœåŠ¡å™¨](https://blog.csdn.net/alifrank/article/details/48241699)
    * `ssh-copy-id username@host`
* å¸¸ç”¨å‘½ä»¤
  * `ls -al` or `ll` alias
  * `pwd`
  * `cd`
  * `screen`
    * `screen -ls`
    * `screen -x <name>`
    * `<Ctrl-a> <Ctrl-d>`
  * `top` or `htop`
  * `mv`
  * `cp`
* æ€ä¹ˆå°†ä»£ç éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Š
  * GitåŒæ­¥æˆ–scpåŒæ­¥
  * Nginxåå‘ä»£ç†
  * `runserver`

## Week 4 Django REST framework (DRF)
> ä»¥[æŸ æª¬èŒ¶æ—¥å†](https://github.com/TeaBreak-Tech/EventCalendar-BackendAPI)ä¸ºä¾‹

* [Tutorial](https://www.django-rest-framework.org/tutorial/quickstart/)
* [Serializer](https://www.django-rest-framework.org/api-guide/serializers/)
  * å…¥é—¨å†…å®¹ï¼š
    * Serializerä¸DjangoåŸç”Ÿçš„å†™æ³•ç›¸æ¯”æœ‰ä»€ä¹ˆå¥½å¤„
    * ç»“åˆ`serializers.py`ä¸€èµ·çœ‹
    * [Dealing with nested objects](https://www.django-rest-framework.org/api-guide/serializers/#dealing-with-nested-objects) serialize å¤–é”®å…³ç³»
    * [Partial updates](https://www.django-rest-framework.org/api-guide/serializers/#partial-updates) PATCHæ¥å£ä¸­ä½¿ç”¨
    * [ModelSerializer](https://www.django-rest-framework.org/api-guide/serializers/#modelserializer) æœ€å¸¸ç”¨çš„ç»§æ‰¿
    * [Specifying which fields to include](https://www.django-rest-framework.org/api-guide/serializers/#specifying-which-fields-to-include) `fields` or `exclude`
  * é«˜é˜¶å†…å®¹ï¼š
    * [Including extra context](https://www.django-rest-framework.org/api-guide/serializers/#including-extra-context) ä¼ å…¥é¢å¤–ä¿¡æ¯
    * [SerializerMethodField](https://www.django-rest-framework.org/api-guide/fields/#serializermethodfield)
    * [Custom fields](https://www.django-rest-framework.org/api-guide/fields/#custom-fields)
* [Authentication](https://www.django-rest-framework.org/api-guide/authentication/)
  * ç”¨æˆ·èº«ä»½è®¤è¯ï¼Œe.g. è¾¨åˆ«å‡ºJasonæ˜¯Jason
  * ç›®å‰ä½¿ç”¨çš„æ˜¯è‡ªå®šä¹‰çš„Tokenè®¤è¯
  * é«˜é˜¶å†…å®¹ï¼š
    * çœ‹æ‡‚`CustomUserTokenAuth`çš„é€»è¾‘
* [Permissions](https://www.django-rest-framework.org/api-guide/permissions/)
  * ç”¨æˆ·æƒé™ç®¡ç†ï¼Œéœ€è¦å…ˆè®¤è¯ç”¨æˆ·çš„èº«ä»½ï¼Œæ‰èƒ½æ ¹æ®ä¸åŒç”¨æˆ·ç»™å‡ºä¸åŒçš„æƒé™ç®¡ç†ç­–ç•¥
  * `DjangoModelPermissions` ç®¡ç†ç”¨æˆ·å¯¹æŸä¸ª Model çš„æƒé™ã€‚e.g. äº§å“åˆæœŸç”¨æˆ·ä¸èƒ½è®¿é—®Host Model
  * `DjangoObjectPermissions` ç®¡ç†ç”¨æˆ·å¯¹æŸä¸ª Object çš„æƒé™ã€‚e.g. ç¼ºå°‘eventå¯¹åº”é€šè¡Œè¯çš„ç”¨æˆ·å°†æ— æ³•è®¿é—®è¯¥event
  * é«˜é˜¶å†…å®¹ï¼š
    * å¼„æ‡‚[æŸ æª¬èŒ¶æ—¥å†](https://github.com/TeaBreak-Tech/EventCalendar-BackendAPI)çš„Object PermissionsåŸç†ï¼š
    * ç”¨æˆ·åœ¨å“ªé‡Œè¢«æˆæƒï¼š
      * `assign_perm` to `Group`
      * `Group` ä¸ `Passport` çš„ä¸€å¯¹ä¸€å…³ç³»
      * `Passport` ä¸ ç”¨æˆ·ç³»ç»Ÿçš„åŒæ­¥æ–¹å¼
    * ç”¨æˆ·çš„æƒé™åœ¨å“ªé‡Œè¢«æ£€æŸ¥ï¼š`DEFAULT_PERMISSION_CLASSES`
    * Objectå¯¹è±¡å¦‚ä½•è¢«ç­›é€‰ï¼š`filter_backends = [ObjectPermissionsFilter]`
    * Object Permissionsæœ‰å“ªå‡ ç§
* [Filtering](https://www.django-rest-framework.org/api-guide/filtering/)
  * æ¨¡å‹å¯¹è±¡è¿‡æ»¤å™¨
  * `CustomEventDeletedFilterBackend` `CustomEventOutdatedFilterBackend` çš„ä½œç”¨
    * ä»£ç å¤ç”¨
    * ä»£ç ç»„ä»¶åŒ–
  * è‡ªå·±å†™ä¸€ä¸ª`FilterBackend`
* [The Browsable API](https://www.django-rest-framework.org/topics/browsable-api/)
  * è¯•è¯•ç›´æ¥è®¿é—®æ¥å£è·¯å¾„ï¼šhttps://calendar.dev.tea-break.cn/api/event/
* è‡ªåŠ¨ç”ŸæˆAPIæ–‡æ¡£
  * https://drf-spectacular.readthedocs.io/en/latest/index.html
  * https://calendar.dev.tea-break.cn/api/doc/

## Week 5 User System Design
* [UserSystem README](https://github.com/TeaBreak-Tech/UserSystem)
* ç™»å½•ç³»ç»Ÿ`Token`è®¾è®¡
* ç”¨æˆ·æ•°æ®åŒæ­¥ï¼š
  * åªæœ‰ UserSystem æ‰èƒ½å¾€ Redis é‡Œé¢å†™`token` `is_active`
  * å…¶ä»– app åªèƒ½è¯»å– Redis é‡Œé¢çš„`token` `is_active`
  * è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆå¹¿æ’­ï¼‰åŒæ­¥passportåŠç”¨æˆ·ä¸ªäººä¿¡æ¯
    * ä»€ä¹ˆæ˜¯è§‚å¯Ÿè€…æ¨¡å¼ï¼šhttps://refactoringguru.cn/design-patterns/observer
* ref:
  * [ç†è§£OAuth 2.0](https://www.ruanyifeng.com/blog/2014/05/oauth_2_0.html)
  * [å¾®æœåŠ¡ä¸‹çš„ç”¨æˆ·ç³»ç»Ÿè®¾è®¡
  ](https://www.yangbajing.me/2018/08/17/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E4%B8%8B%E7%9A%84%E7%94%A8%E6%88%B7%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/)
  * [å¤šç«™ç‚¹å•ç‚¹ç™»å½•å®ç°æ–¹æ¡ˆ
  ](https://juejin.cn/post/6844903866153041933)

## Week 7 Nginx
* `nginx.conf`è¯­æ³•
* e.g calendar nginx.conf
* ```nginx
      server {
          listen 443 ssl;
          server_name calendar.dev.tea-break.cn;
          ssl_certificate /home/www/calendar/SSL/dev/Nginx/1_calendar.dev.tea-break.cn_bundle.crt;
          ssl_certificate_key /home/www/calendar/SSL/dev/Nginx/2_calendar.dev.tea-break.cn.key;
          ssl_session_timeout 5m;
          ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
          ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;
          ssl_prefer_server_ciphers on;

          location /django/static/ {
              alias /home/www/calendar/django/static/;
          }
          location / {
              root /home/www/calendar/react/build;
              index  index.html index.htm;
              try_files $uri /index.html
              autoindex on;
          }
          location /api {
              proxy_pass  http://127.0.0.1:8004;
          }
          location /uauth {
              proxy_pass  http://127.0.0.1:9000;
          }
          location /api/get_cos_credential {
              proxy_pass  https://www.tea-break.cn;
          }
          location /T67xT93qKR.txt {
              root /;
              expires -1;
              add_header Cache-Control no-store;
          }
      }

      server {
          listen       80;
          server_name  calendar.dev.tea-break.cn;
          return 301 https://$host$request_uri;
      }


      server {
          listen 443 ssl;
          server_name app.calendar.dev.tea-break.cn;
          ssl_certificate /home/www/calendar/SSL/app/Nginx/1_app.calendar.dev.tea-break.cn_bundle.crt;
          ssl_certificate_key /home/www/calendar/SSL/app/Nginx/2_app.calendar.dev.tea-break.cn.key;
          ssl_session_timeout 5m;
          ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
          ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;
          ssl_prefer_server_ciphers on;

          location / {
              root /home/www/calendar/app/build;
              index  index.html index.htm;
              try_files $uri /index.html
              autoindex on;
          }
          location /api {
              proxy_pass  http://127.0.0.1:8004;
          }
          location /uauth {
              proxy_pass  http://127.0.0.1:9000;
          }
          location /api/get_cos_credential {
              proxy_pass  https://www.tea-break.cn;
          }
          location /T67xT93qKR.txt {
              root /;
              expires -1;
              add_header Cache-Control no-store;
          }
      }

      server {
          listen       80;
          server_name  app.calendar.dev.tea-break.cn;
          return 301 https://$host$request_uri;
      }

## Week 8 MySQL
